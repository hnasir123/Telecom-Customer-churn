<!DOCTYPE html>
<html>
<head>
    <title>Churn Prediction</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            background-color: #E1F5FE; /* Light blue color */
        }
        .container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
        }
        .left-column, .right-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .center-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        form {
            text-align: center;
        }
        form label, form select, form input[type="text"], form input[type="submit"], h2, p {
            font-size: 20px;
        }
        form input[type="submit"] {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Churn Prediction</h1>
    <form action="/predict" method="post">
   	 <div class="container">
        <div class="left-column">
                 <label for="gender">Gender:</label>
        <select id="gender" name="gender">
            <option value="Female">Female</option>
            <option value="Male">Male</option>
        </select>

        <label for="senior_citizen">Senior Citizen:</label>
        <select id="senior_citizen" name="senior_citizen">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label for="partner">Partner:</label>
        <select id="partner" name="partner">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label for="dependents">Dependents:</label>
        <select id="dependents" name="dependents">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label for="phone_service">Phone Service:</label>
        <select id="phone_service" name="phone_service">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label for="multiple_lines">Multiple Lines:</label>
        <select id="multiple_lines" name="multiple_lines">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No phone service">No phone service</option>
        </select>

        <label for="internet_service">Internet Service:</label>
        <select id="internet_service" name="internet_service">
            <option value="Fiber optic">Fiber optic</option>
            <option value="DSL">DSL</option>
            <option value="No">No</option>
        </select>

        <label for="online_security">Online Security:</label>
        <select id="online_security" name="online_security">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>

        </div>

        <div class="right-column">
          
         <label for="online_backup">Online Backup:</label>
        <select id="online_backup" name="online_backup">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>
          
          <label for="device_protection">Device Protection:</label>
        <select id="device_protection" name="device_protection">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>

        <label for="tech_support">Tech Support:</label>
        <select id="tech_support" name="tech_support">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>

        <label for="streaming_tv">Streaming TV:</label>
        <select id="streaming_tv" name="streaming_tv">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>

        <label for="streaming_movies">Streaming Movies:</label>
        <select id="streaming_movies" name="streaming_movies">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="No internet service">No internet service</option>
        </select>

        <label for="contract">Contract:</label>
        <select id="contract" name="contract">
            <option value="Two year">Two year</option>
            <option value="One year">One year</option>
            <option value="Month-to-month">Month-to-month</option>
        </select>

        <label for="paperless_billing">Paperless Billing:</label>
        <select id="paperless_billing" name="paperless_billing">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label for="payment_method">Payment Method:</label>
        <select id="payment_method" name="payment_method">
            <option value="Credit card (automatic)">Credit card (automatic)</option>
            <option value="Bank transfer (automatic)">Bank transfer (automatic)</option>
            <option value="Mailed check">Mailed check</option>
            <option value="Electronic check">Electronic check</option>
        </select>

        </div>

        <div class="center-column">
            <label for="tenure_months">Tenure Months:</label>
            <input type="text" id="tenure_months" name="tenure_months">

            <label for="monthly_charges">Monthly Charges:</label>
            <input type="text" id="monthly_charges" name="monthly_charges">

            <label for="total_charges">Total Charges:</label>
            <input type="text" id="total_charges" name="total_charges">

            <input type="submit" value="Predict">
        </div>
    </div>
 </form>   

{% if predictions is defined %}
    <h2>Predictions:</h2>
    <p style="font-size: 150%; font-weight: bold; color: black;">Probability of Churn: {{ predictions }}</p>
    {% if predictions >= 0 and predictions <= 25 %}
        <p style="font-size: 150%; font-weight: bold; color: green;">Low Churn Probability:</p>
        <ul style="font-size: 150%;font-weight: bold; color: black;">
            <li>Offer loyalty rewards: Provide exclusive benefits, discounts, or rewards to loyal customers to incentivize them to continue using your services.</li>
            <li>Personalized communication: Send personalized emails or messages to express gratitude and reinforce the value of their relationship with your business.</li>
            <li>Proactive customer support: Provide proactive assistance and timely resolution of any issues or concerns to ensure a positive customer experience.</li>
        </ul>
    {% elif predictions > 25 and predictions <= 50 %}
        <p style="font-size: 150%; font-weight: bold; color: green;">Medium Churn Probability:</p>
        <ul style="font-size: 150%;font-weight: bold; color: black;">
            <li>Enhanced customer support: Offer dedicated support channels or priority access to customer support representatives for customers in this range.</li>
            <li>Targeted promotions: Tailor special promotions or offers based on the customer's preferences and usage patterns to demonstrate that you understand their needs.</li>
            <li>Service upgrades: Identify opportunities to upgrade the customer's current plan or offer additional features at a discounted rate to increase their satisfaction and engagement.</li>
        </ul>
    {% elif predictions > 50 and predictions <= 75 %}
        <p style="font-size: 150%; font-weight: bold; color: red;">High Churn Probability:</p>
        <ul style="font-size: 150%;font-weight: bold; color: black;">
            <li>Retention discounts: Offer significant discounts or pricing incentives to encourage customers in this range to stay.</li>
            <li>Personalized re-engagement campaigns: Design targeted campaigns with personalized recommendations or exclusive offers that address the specific pain points or reasons for potential churn.</li>
            <li>Customer success programs: Assign a dedicated customer success manager to work closely with high-churn probability customers, understanding their needs and providing ongoing support.</li>
        </ul>
    {% else %}
        <p style="font-size: 150%; font-weight: bold; color: red;">Very High Churn Probability:</p>
        <ul style="font-size: 150%;font-weight: bold; color: black;">
            <li>Win-back campaigns: Launch targeted win-back campaigns with compelling offers to regain the attention and interest of customers at high risk of churn.</li>
            <li>Exit surveys and feedback: Request feedback from customers who have already churned to identify the reasons behind their decision.</li>
            <li>Re-engagement through multiple channels: Reach out to customers through various communication channels to increase the chances of reconnecting and re-engaging them with your brand.</li>
        </ul>
    {% endif %}
{% else %}
    {% if error_message %}
        <p>An error occurred. Please try again.</p>
    {% endif %}
{% endif %}

</body>
</html>